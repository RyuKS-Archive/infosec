---
layout: post
title:  "VTP 설정"
description: VTP설정과 Switch 설정 초기화, 저장 방법
date:   2021-04-06
categories: VTP
---
    
    
# 관리자용 IP로 TELNET 설정하기
    
+ Switch 한 대에 한 개의 Vlan에 관리용 TELNET 설정이 가능하다
    
1. configure terminal 
2. line vty 0 4 - username [이름] - exit
> + (0~4명 까지 총 5명의 접속이 가능하도록 설정)
3. line vty 0 4 - password [비밀번호] - exit
4. enable password [비밀번호] (enable 명령어를 사용하기 위한 비밀번호)
5. enable secret [비밀번호] (enable 명령어를 사용하기 위한 암호화 비밀번호)
6. interface vlan [번호]
7. ip address [해당 네트워크 ip] [서브넷마스크]
8. 설정한 Vlan [번호]의 pc로 가서 telnet [7번에서 설정한 ip]로 접속한 후 3번에서 설정한 비밀번호로 접속가능
9. telnet 접속한 상태에서 enable 명령어 사용후 4번이나 5번에서 설정한 비밀번호 입력
> + 4,5번 비밀번호를 설정하지 않아도 접속은 가능하지만 enable 명령어 사용 불가능
    
    
# 서브넷
+ 172.16.10.0 / 24(255.255.255.0)를 4개의 네트워크로 분리 예시
```
네트워크 개수가 2의 제곱에 해당하는 숫자면 그대로 256에서 나눈다
분리해야할 네트워크 개수가 5나 7같이 2의 제곱승이 아니면 그 범위를 포함하는 2의 제곱승인 8로 나눈다

256 / 4 = 64 

4개의 네트워크는 각각 64개의 ip를 가지게 되며 서브넷마스크는 256 - 64 = 192가 된다 255.255.255.192

2진수로 계산하는 방법도 존재하는데
분리할 네트워크 개수가 2의 몇 제곱인지 확인 한 후 기존 서브넷 마스크 0으로 표시된 제일 앞 부분부터 제곱의 숫자 만큼 1로 바꿔준다
ex) 255.255.255.0 = 1111 1111 . 1111 1111 . 1111 1111 . 0000 0000 4는 2의 2승이므로 두번째 0까지 1로 바꿔준다 
                    1111 1111 . 1111 1111 . 1111 1111 . 1100 0000 이렇게 두번째 까지 1로 바꾼 후 계산하면 128 + 64 = 192가 된다

결과 4개의 네트워크로 분리하게 되면 각 네트워크당 64개의 ip를 가지게 되어

첫번째 네트워크 172.16.10.0 ~ 63 
두번째 네트워크 172.16.10.64 ~ 127
세번째 네트워크 172.16.10.128 ~ 191
네번째 네트워크 172.16.10.192 ~ 254

로 나누어 지고 서브넷마스크는 255.255.255.192 / PREFIX 26이 된다
```

